<UserControl x:Class="CbcRoastersErp.Views.Dashboard"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"             
             Background="{DynamicResource BackgroundBrush}"
             mc:Ignorable="d"
             Padding="20">

    <ScrollViewer>
        <StackPanel Margin="10">

            <!-- Branding Header -->
            <DockPanel Margin="0 0 0 30">
                <Image Source="/Views/CBC_Logo_500x500.png"
                       Width="50" Height="50"
                       Stretch="Uniform"
                       RenderOptions.BitmapScalingMode="HighQuality"
                       DockPanel.Dock="Left"/>
                <TextBlock Text="CBC Roasters Work Center Dashboard"
                           Style="{StaticResource Heading1TextBlock}"
                           VerticalAlignment="Center"
                           Margin="10 0 0 0"/>
            </DockPanel>

            <!-- Operations Group -->
            <GroupBox Header="Operations" Style="{StaticResource BrandedGroupBox}" Margin="0 0 0 20">
                <WrapPanel Margin="10" ItemHeight="130" ItemWidth="250" HorizontalAlignment="Left">

                    <!-- Purchase Orders -->
                    <materialDesign:Card Margin="10">
                        <Button Style="{StaticResource PrimaryButton}" Command="{Binding NavigateToPurchaseOrder}">
                            <StackPanel>
                                <StackPanel Orientation="Horizontal" Margin="8">
                                    <materialDesign:PackIcon Kind="CartArrowDown" Width="24"/>
                                    <TextBlock Text="Purchase Orders" Style="{StaticResource Heading2TextBlock}"/>
                                </StackPanel>
                                <TextBlock Text="Manage Purchase Orders" Style="{StaticResource CaptionTextBlock}"/>
                            </StackPanel>
                        </Button>
                    </materialDesign:Card>

                    <!-- Inventory -->
                    <materialDesign:Card Margin="10">
                        <Button Style="{StaticResource PrimaryButton}" Command="{Binding NavigateToInventoryCommand}">
                            <StackPanel>
                                <StackPanel Orientation="Horizontal" Margin="8">
                                    <materialDesign:PackIcon Kind="Warehouse" Width="24"/>
                                    <TextBlock Text="Inventory" Style="{StaticResource Heading2TextBlock}"/>
                                </StackPanel>
                                <TextBlock Text="Manage inventory items" Style="{StaticResource CaptionTextBlock}"/>
                            </StackPanel>
                        </Button>
                    </materialDesign:Card>

                    <!-- Production -->
                    <materialDesign:Card Margin="10">
                        <Button Style="{StaticResource PrimaryButton}" Command="{Binding NavigateToProductionCommand}">
                            <StackPanel>
                                <StackPanel Orientation="Horizontal" Margin="8">
                                    <materialDesign:PackIcon Kind="Factory" Width="24"/>
                                    <TextBlock Text="Production" Style="{StaticResource Heading2TextBlock}"/>
                                </StackPanel>
                                <TextBlock Text="Roasting and batches" Style="{StaticResource CaptionTextBlock}"/>
                            </StackPanel>
                        </Button>
                    </materialDesign:Card>

                    <!-- Batch Schedule -->
                    <materialDesign:Card Margin="10">
                        <Button Style="{StaticResource PrimaryButton}" Command="{Binding NavigateToBatchScheduleCommand}">
                            <StackPanel>
                                <StackPanel Orientation="Horizontal" Margin="8">
                                    <materialDesign:PackIcon Kind="Calendar" Width="24"/>
                                    <TextBlock Text="Batch Schedule" Style="{StaticResource Heading2TextBlock}"/>
                                </StackPanel>
                                <TextBlock Text="Manage batch schedules" Style="{StaticResource CaptionTextBlock}"/>
                            </StackPanel>
                        </Button>
                    </materialDesign:Card>
                    <!-- Farmers Market Schedule -->
                    <materialDesign:Card Margin="10" >
                        <Button Style="{StaticResource PrimaryButton}" Command="{Binding NavigateToFarmersMarketCommand}" >
                            <StackPanel>
                                <StackPanel Orientation="Horizontal" Margin="8">
                                    <materialDesign:PackIcon Kind="CalendarAccount" Width="24"/>
                                    <TextBlock Text="Farmers Market Schedule" Style="{StaticResource Heading2TextBlock}"/>
                                </StackPanel>
                                <TextBlock Text="Manage Farmers Market Schedule" Style="{StaticResource CaptionTextBlock}"/>
                            </StackPanel> 
                        </Button>
                    </materialDesign:Card>

                    <!-- Employees (with visibility binding) -->
                    <materialDesign:Card Margin="10" Visibility="{Binding CanManageEmployees, Converter={StaticResource BoolToVisibilityConverter}}">
                        <Button Style="{StaticResource PrimaryButton}" Command="{Binding NavigateToEmployeesCommand}">
                            <StackPanel>
                                <StackPanel Orientation="Horizontal" Margin="8">
                                    <materialDesign:PackIcon Kind="AccountGroup" Width="24"/>
                                    <TextBlock Text="Employees" Style="{StaticResource Heading2TextBlock}"/>
                                </StackPanel>
                                <TextBlock Text="Employee profiles/roles" Style="{StaticResource CaptionTextBlock}"/>
                            </StackPanel>
                        </Button>
                    </materialDesign:Card>

                    <!-- Artisan -->
                    <materialDesign:Card Margin="10">
                        <Button Style="{StaticResource PrimaryButton}" Command="{Binding NavigateToArtisanCommand}">
                            <StackPanel>
                                <StackPanel Orientation="Horizontal" Margin="8">
                                    <materialDesign:PackIcon Kind="AccountTie" Width="24"/>
                                    <TextBlock Text="Artisan" Style="{StaticResource Heading2TextBlock}"/>
                                </StackPanel>
                                <TextBlock Text="Manage artisan profiles" Style="{StaticResource CaptionTextBlock}"/>
                            </StackPanel>
                        </Button>
                    </materialDesign:Card>

                </WrapPanel>
            </GroupBox>

            <!-- Order & Sales Management Group -->
            <GroupBox Header="Order &amp; Sales Management" Style="{StaticResource BrandedGroupBox}" Margin="0 0 0 20">
                <WrapPanel Margin="10" ItemHeight="130" ItemWidth="250" HorizontalAlignment="Left">

                    <!-- Sales Dashboard -->
                    <materialDesign:Card Margin="10">
                        <Button Style="{StaticResource PrimaryButton}" Command="{Binding NavigateToSalesDashboardCommand}">
                            <StackPanel>
                                <StackPanel Orientation="Horizontal" Margin="8">
                                    <materialDesign:PackIcon Kind="CashRegister" Width="24"/>
                                    <TextBlock Text="Sales Dashboard" Style="{StaticResource Heading2TextBlock}"/>
                                </StackPanel>
                                <TextBlock Text="Manage sales and invoices" Style="{StaticResource CaptionTextBlock}"/>
                            </StackPanel>
                        </Button>
                    </materialDesign:Card>

                    <!-- Orders -->
                    <materialDesign:Card Margin="10">
                        <Button Style="{StaticResource PrimaryButton}" Command="{Binding NavigateToBigCommerceOrdersCommand}">
                            <StackPanel>
                                <StackPanel Orientation="Horizontal" Margin="8">
                                    <materialDesign:PackIcon Kind="Shopping" Width="24"/>
                                    <TextBlock Text="Orders" Style="{StaticResource Heading2TextBlock}"/>
                                </StackPanel>
                                <TextBlock Text="Manage customer orders" Style="{StaticResource CaptionTextBlock}"/>
                            </StackPanel>
                        </Button>
                    </materialDesign:Card>

                    <!-- Customers -->
                    <materialDesign:Card Margin="10">
                        <Button Style="{StaticResource PrimaryButton}" Command="{Binding NavigateToCustomerCommand}">
                            <StackPanel>
                                <StackPanel Orientation="Horizontal" Margin="8">
                                    <materialDesign:PackIcon Kind="Account" Width="24"/>
                                    <TextBlock Text="Customers" Style="{StaticResource Heading2TextBlock}"/>
                                </StackPanel>
                                <TextBlock Text="Manage customer profiles" Style="{StaticResource CaptionTextBlock}"/>
                            </StackPanel>
                        </Button>
                    </materialDesign:Card>

                    <!-- BigCommerce -->
                    <materialDesign:Card Margin="10">
                        <Button Style="{StaticResource PrimaryButton}" Command="{Binding NavigateToBigCommerceCommand}">
                            <StackPanel>
                                <StackPanel Orientation="Horizontal" Margin="8">
                                    <materialDesign:PackIcon Kind="Web" Width="24"/>
                                    <TextBlock Text="BigCommerce" Style="{StaticResource Heading2TextBlock}"/>
                                </StackPanel>
                                <TextBlock Text="Manage and sync BigCommerce orders" Style="{StaticResource CaptionTextBlock}"/>
                            </StackPanel>
                        </Button>
                    </materialDesign:Card>

                    <!-- Shipping -->
                    <materialDesign:Card Margin="10">
                        <Button Style="{StaticResource PrimaryButton}" Command="{Binding NavigateToShippingCommand}">
                            <StackPanel>
                                <StackPanel Orientation="Horizontal" Margin="8">
                                    <materialDesign:PackIcon Kind="Truck" Width="24"/>
                                    <TextBlock Text="Shipping" Style="{StaticResource Heading2TextBlock}"/>
                                </StackPanel>
                                <TextBlock Text="Manage shipping and tracking" Style="{StaticResource CaptionTextBlock}"/>
                            </StackPanel>
                        </Button>
                    </materialDesign:Card>

                </WrapPanel>
            </GroupBox>

            <!-- HR Management Group -->
            <GroupBox Header="HR Management" Style="{StaticResource BrandedGroupBox}" Margin="0 0 0 20">
                <WrapPanel Margin="10" ItemHeight="130" ItemWidth="250" HorizontalAlignment="Left">

                    <!-- Manage Employees -->
                    <materialDesign:Card Margin="10">
                        <Button Style="{StaticResource PrimaryButton}" Command="{Binding NavigateToHREmployeeCommand}">
                            <StackPanel>
                                <StackPanel Orientation="Horizontal" Margin="8">
                                    <materialDesign:PackIcon Kind="People" Width="24"/>
                                    <TextBlock Text="Manage Employees" Style="{StaticResource Heading2TextBlock}"/>
                                </StackPanel>
                                <TextBlock Text="Manage employees" Style="{StaticResource CaptionTextBlock}"/>
                            </StackPanel>
                        </Button>
                    </materialDesign:Card>

                    <!-- Interviews -->
                    <materialDesign:Card Margin="10">
                        <Button Style="{StaticResource PrimaryButton}" Command="{Binding NavigateToHRInterviewCommand}">
                            <StackPanel>
                                <StackPanel Orientation="Horizontal" Margin="8">
                                    <materialDesign:PackIcon Kind="AccountCheck" Width="24"/>
                                    <TextBlock Text="Interviews" Style="{StaticResource Heading2TextBlock}"/>
                                </StackPanel>
                                <TextBlock Text="Manage interviews" Style="{StaticResource CaptionTextBlock}"/>
                            </StackPanel>
                        </Button>
                    </materialDesign:Card>

                    <!-- Performance Reviews -->
                    <materialDesign:Card Margin="10">
                        <Button Style="{StaticResource PrimaryButton}" Command="{Binding NavigateToHRPerformanceReviewCommand}">
                            <StackPanel>
                                <StackPanel Orientation="Horizontal" Margin="8">
                                    <materialDesign:PackIcon Kind="Star" Width="24"/>
                                    <TextBlock Text="Performance Reviews" Style="{StaticResource Heading2TextBlock}"/>
                                </StackPanel>
                                <TextBlock Text="Manage performance reviews" Style="{StaticResource CaptionTextBlock}"/>
                            </StackPanel>
                        </Button>
                    </materialDesign:Card>

                    <!-- Candidates -->
                    <materialDesign:Card Margin="10">
                        <Button Style="{StaticResource PrimaryButton}" Command="{Binding NavigateToHRCandidateCommand}">
                            <StackPanel>
                                <StackPanel Orientation="Horizontal" Margin="8">
                                    <materialDesign:PackIcon Kind="AccountPlus" Width="24"/>
                                    <TextBlock Text="Candidates" Style="{StaticResource Heading2TextBlock}"/>
                                </StackPanel>
                                <TextBlock Text="Manage candidates" Style="{StaticResource CaptionTextBlock}"/>
                            </StackPanel>
                        </Button>
                    </materialDesign:Card>

                    <!-- Jobs -->
                    <materialDesign:Card Margin="10">
                        <Button Style="{StaticResource PrimaryButton}" Command="{Binding NavigateToHRJobCommand}">
                            <StackPanel>
                                <StackPanel Orientation="Horizontal" Margin="8">
                                    <materialDesign:PackIcon Kind="FileDocument" Width="24"/>
                                    <TextBlock Text="Jobs" Style="{StaticResource Heading2TextBlock}"/>
                                </StackPanel>
                                <TextBlock Text="Manage job postings" Style="{StaticResource CaptionTextBlock}"/>
                            </StackPanel>
                        </Button>
                    </materialDesign:Card>

                </WrapPanel>
            </GroupBox>

            <!-- Finance Group -->
            <GroupBox Header="Finance" Style="{StaticResource BrandedGroupBox}" Margin="0 0 0 20">
                <WrapPanel Margin="10" ItemHeight="130" ItemWidth="250" HorizontalAlignment="Left">

                    <!-- Finance Dashboard -->
                    <materialDesign:Card Margin="10">
                        <Button Style="{StaticResource PrimaryButton}" Command="{Binding NavigateToFinanceDashboardCommand}">
                            <StackPanel>
                                <StackPanel Orientation="Horizontal" Margin="8">
                                    <materialDesign:PackIcon Kind="CashRegister" Width="24"/>
                                    <TextBlock Text="Finance Dashboard" Style="{StaticResource Heading2TextBlock}"/>
                                </StackPanel>
                                <TextBlock Text="Manage finance and reports" Style="{StaticResource CaptionTextBlock}"/>
                            </StackPanel>
                        </Button>
                    </materialDesign:Card>

                    <!-- Profit and Loss -->
                    <materialDesign:Card Margin="10">
                        <Button Style="{StaticResource PrimaryButton}" Command="{Binding NavigateToProfitLossCommand}">
                            <StackPanel>
                                <StackPanel Orientation="Horizontal" Margin="8">
                                    <materialDesign:PackIcon Kind="ChartLine" Width="24"/>
                                    <TextBlock Text="Profit and Loss" Style="{StaticResource Heading2TextBlock}"/>
                                </StackPanel>
                                <TextBlock Text="View profit and loss statement" Style="{StaticResource CaptionTextBlock}"/>
                            </StackPanel>
                        </Button>
                    </materialDesign:Card>

                    <!-- Accounts -->
                    <materialDesign:Card Margin="10">
                        <Button Style="{StaticResource PrimaryButton}" Command="{Binding NavigateToFinanceAccountsCommand}">
                            <StackPanel>
                                <StackPanel Orientation="Horizontal" Margin="8">
                                    <materialDesign:PackIcon Kind="Bank" Width="24"/>
                                    <TextBlock Text="Accounts" Style="{StaticResource Heading2TextBlock}"/>
                                </StackPanel>
                                <TextBlock Text="Manage accounts" Style="{StaticResource CaptionTextBlock}"/>
                            </StackPanel>
                        </Button>
                    </materialDesign:Card>

                    <!-- Journal Entries -->
                    <materialDesign:Card Margin="10">
                        <Button Style="{StaticResource PrimaryButton}" Command="{Binding NavigateToFinanceJournalCommand}">
                            <StackPanel>
                                <StackPanel Orientation="Horizontal" Margin="8">
                                    <materialDesign:PackIcon Kind="FileDocumentEdit" Width="24"/>
                                    <TextBlock Text="Journal Entries" Style="{StaticResource Heading2TextBlock}"/>
                                </StackPanel>
                                <TextBlock Text="Manage journal entries" Style="{StaticResource CaptionTextBlock}"/>
                            </StackPanel>
                        </Button>
                    </materialDesign:Card>

                    <!-- Import Square CSV -->
                    <materialDesign:Card Margin="10">
                        <Button Style="{StaticResource PrimaryButton}" Command="{Binding NavigateToImportSquareCsvCommand}">
                            <StackPanel>
                                <StackPanel Orientation="Horizontal" Margin="8">
                                    <materialDesign:PackIcon Kind="FileImport" Width="24"/>
                                    <TextBlock Text="Import Square CSV" Style="{StaticResource Heading2TextBlock}"/>
                                </StackPanel>
                                <TextBlock Text="Import Square banking CSV" Style="{StaticResource CaptionTextBlock}"/>
                            </StackPanel>
                        </Button>
                    </materialDesign:Card>

                    <!-- Import Dripos Sales -->
                    <materialDesign:Card Margin="10">
                        <Button Style="{StaticResource PrimaryButton}" Command="{Binding NavigateToImportDriposSalesCommand}">
                            <StackPanel>
                                <StackPanel Orientation="Horizontal" Margin="8">
                                    <materialDesign:PackIcon Kind="FileImport" Width="24"/>
                                    <TextBlock Text="Import Dripos Sales" Style="{StaticResource Heading2TextBlock}"/>
                                </StackPanel>
                                <TextBlock Text="Import Dripos sales CSV" Style="{StaticResource CaptionTextBlock}"/>
                            </StackPanel>
                        </Button>
                    </materialDesign:Card>

                    <!-- Dripos Sales Dashboard -->
                    <materialDesign:Card Margin="10">
                        <Button Style="{StaticResource PrimaryButton}" Command="{Binding NavigateToDriposSalesDashboardCommand}">
                            <StackPanel>
                                <StackPanel Orientation="Horizontal" Margin="8">
                                    <materialDesign:PackIcon Kind="AccountCash" Width="24"/>
                                    <TextBlock Text="Sales Dashboard" Style="{StaticResource Heading2TextBlock}"/>
                                </StackPanel>
                                <TextBlock Text="Import Dripos combined CSV" Style="{StaticResource CaptionTextBlock}"/>
                            </StackPanel>
                        </Button>
                    </materialDesign:Card>

                </WrapPanel>
            </GroupBox>

            <!-- Administration Group -->
            <GroupBox Header="Administration" Style="{StaticResource BrandedGroupBox}" Margin="0 0 0 20" Visibility="{Binding IsAdmin, Converter={StaticResource BooleanToVisibilityConverter}}">
                <WrapPanel Margin="10" ItemHeight="130" ItemWidth="250" HorizontalAlignment="Left">

                    <!-- Master Data -->
                    <materialDesign:Card Margin="10">
                        <Button Style="{StaticResource PrimaryButton}" Command="{Binding NavigateToMasterDataCommand}">
                            <StackPanel>
                                <StackPanel Orientation="Horizontal" Margin="8">
                                    <materialDesign:PackIcon Kind="Database" Width="24"/>
                                    <TextBlock Text="Master Data" Style="{StaticResource Heading2TextBlock}"/>
                                </StackPanel>
                                <TextBlock Text="Manage master data entities" Style="{StaticResource CaptionTextBlock}"/>
                            </StackPanel>
                        </Button>
                    </materialDesign:Card>

                    <!-- User Management -->
                    <materialDesign:Card Margin="10">
                        <Button Style="{StaticResource PrimaryButton}" Command="{Binding NavigateToUserManagementCommand}">
                            <StackPanel>
                                <StackPanel Orientation="Horizontal" Margin="8">
                                    <materialDesign:PackIcon Kind="AccountSettings" Width="24"/>
                                    <TextBlock Text="User Management" Style="{StaticResource Heading2TextBlock}"/>
                                </StackPanel>
                                <TextBlock Text="Create and manage users" Style="{StaticResource CaptionTextBlock}"/>
                            </StackPanel>
                        </Button>
                    </materialDesign:Card>

                    <!-- Role Permissions -->
                    <materialDesign:Card Margin="10">
                        <Button Style="{StaticResource PrimaryButton}" Command="{Binding NavigateToManagePermissionsCommand}">
                            <StackPanel>
                                <StackPanel Orientation="Horizontal" Margin="8">
                                    <materialDesign:PackIcon Kind="Security" Width="24"/>
                                    <TextBlock Text="Role Permissions" Style="{StaticResource Heading2TextBlock}"/>
                                </StackPanel>
                                <TextBlock Text="Manage role-based access" Style="{StaticResource CaptionTextBlock}"/>
                            </StackPanel>
                        </Button>
                    </materialDesign:Card>

                    <!-- Suppliers -->
                    <materialDesign:Card Margin="10">
                        <Button Style="{StaticResource PrimaryButton}" Command="{Binding NavigateToSuppliersCommand}">
                            <StackPanel>
                                <StackPanel Orientation="Horizontal" Margin="8">
                                    <materialDesign:PackIcon Kind="AccountGroup" Width="24"/>
                                    <TextBlock Text="Suppliers" Style="{StaticResource Heading2TextBlock}"/>
                                </StackPanel>
                                <TextBlock Text="Manage supplier profiles" Style="{StaticResource CaptionTextBlock}"/>
                            </StackPanel>
                        </Button>
                    </materialDesign:Card>

                    <!-- Application Logs -->
                    <materialDesign:Card Margin="10">
                        <Button Style="{StaticResource PrimaryButton}" Command="{Binding NavigateToApplicationLogsCommand}">
                            <StackPanel>
                                <StackPanel Orientation="Horizontal" Margin="8">
                                    <materialDesign:PackIcon Kind="FileDocument" Width="24"/>
                                    <TextBlock Text="Application Logs" Style="{StaticResource Heading2TextBlock}"/>
                                </StackPanel>
                                <TextBlock Text="View application logs" Style="{StaticResource CaptionTextBlock}"/>
                            </StackPanel>
                        </Button>
                    </materialDesign:Card>
                    <!-- Manage Artisan-->
                    <materialDesign:Card Margin="10">
                        <Button Style="{StaticResource PrimaryButton}" Command="{Binding NavigateToMangaeArtisanCommand }">
                            <StackPanel>
                                <StackPanel Orientation="Horizontal" Margin="8">
                                    <TextBlock Text="Artisan Setup" Style="{StaticResource Heading2TextBlock}"/>
                                </StackPanel>
                                <TextBlock Text="Manage Artisan Settings" Style="{StaticResource CaptionTextBlock}"/>
                            </StackPanel>
                        </Button>
                    </materialDesign:Card>

                </WrapPanel>
            </GroupBox>

            <!-- System Group -->
            <GroupBox Header="System" Style="{StaticResource BrandedGroupBox}">
                <StackPanel Orientation="Horizontal" HorizontalAlignment="Right" Margin="10">
                    <Button Click="ThemeToggle_Click"
                            Style="{StaticResource SecondaryButton}">
                        <StackPanel Orientation="Horizontal" Margin="6">
                            <materialDesign:PackIcon Kind="WeatherNight"/>
                            <TextBlock Text="Theme"/>
                        </StackPanel>
                    </Button>

                    <Button Content="Exit"
                            Command="{Binding ExitCommand}"
                            Style="{StaticResource PrimaryButton}"/>
                </StackPanel>
            </GroupBox>

        </StackPanel>
    </ScrollViewer>
</UserControl>
